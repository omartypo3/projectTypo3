<!-- categories -->
<f:if condition="{categories}">
	<f:then>
		<div class="form-group">
			<label for="news-category"><f:translate key="search-category" /></label>
			<select id="news-category" name="tx_news_pi1[overwriteDemand][categories]" class="form-control">
				<f:render section="categoryTree" arguments="{categories:categories,overwriteDemand:overwriteDemand}" />
			</select>
		</div>
	</f:then>
	<f:else>
		<f:translate key="list_nocategoriesfound" />
	</f:else>
</f:if>

<f:section name="categoryTree">
	<f:for each="{categories}" as="category">
		<f:if condition="{category.item.uid} == {overwriteDemand.categories}">
			<f:then>
				<option value="{category.item.uid}" selected="selected">{category.item.title}</option>
			</f:then>
			<f:else>
				<option value="{category.item.uid}">{category.item.title}</option>
			</f:else>
		</f:if>

		<f:if condition="{category.children}">
			<f:render section="categoryTree" arguments="{categories: category.children,overwriteDemand:overwriteDemand}" />
		</f:if>
	</f:for>
</f:section>